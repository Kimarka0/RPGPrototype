# üß† –õ–Ø–ú–ë–î–´ - –ü–†–û–°–¢–û–ï –û–ë–™–Ø–°–ù–ï–ù–ò–ï

## –ß—Ç–æ —Ç–∞–∫–æ–µ –ª—è–º–±–¥–∞?

**–õ—è–º–±–¥–∞** ‚Äì —ç—Ç–æ —Å–ø–æ—Å–æ–± –Ω–∞–ø–∏—Å–∞—Ç—å –æ—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫—É—é —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä—è–º–æ –≤ —Ç–æ–º –º–µ—Å—Ç–µ, –≥–¥–µ –µ—ë –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

### –ü—Ä–∏–º–µ—Ä 1: –ë–µ–∑ –ª—è–º–±–¥—ã (–æ–±—ã—á–Ω—ã–π —Å–ø–æ—Å–æ–±)

```csharp
// –û–±—ã—á–Ω–æ —Å–æ–∑–¥–∞—ë—à—å –º–µ—Ç–æ–¥ –æ—Ç–¥–µ–ª—å–Ω–æ:
private void OnButtonClicked()
{
    Debug.Log("–ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞!");
}

// –ü–æ—Ç–æ–º –µ–≥–æ –≤—ã–∑—ã–≤–∞–µ—à—å:
button.onClick.AddListener(OnButtonClicked);
```

### –ü—Ä–∏–º–µ—Ä 2: –° –ª—è–º–±–¥–æ–π (–∫–æ—Ä–æ—á–µ)

```csharp
// –õ—è–º–±–¥–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–æ –∂–µ —Å–∞–º–æ–µ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É:
button.onClick.AddListener(() => 
{
    Debug.Log("–ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞!");
});
```

**–†–∞–∑–Ω–∏—Ü–∞:** –≤–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Ç—ã –ø–∏—à–µ—à—å –∫–æ–¥ –ø—Ä—è–º–æ –≤ —Å–∫–æ–±–∫–∞—Ö.

---

## –°–∏–Ω—Ç–∞–∫—Å–∏—Å –ª—è–º–±–¥—ã

```csharp
// () => { –∫–æ–¥ }
//  ‚Üì    ‚Üì  ‚Üì
// (–Ω–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤) —Å—Ç—Ä–µ–ª–∫–∞ (—Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏)
```

### –ü—Ä–∏–º–µ—Ä—ã:

```csharp
// –ë–ï–ó –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
button.onClick.AddListener(() => Debug.Log("–ö–ª–∏–∫!"));

// –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
items.ForEach(item => Debug.Log(item));

// –° –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏:
button.onClick.AddListener(() => 
{
    Debug.Log("–ö–ª–∏–∫!");
    Debug.Log("–ï—â—ë –∫–ª–∏–∫!");
});
```

---

## –ü—Ä–æ–±–ª–µ–º–∞: –õ—è–º–±–¥–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ —Ü–∏–∫–ª–µ

–ö–æ–≥–¥–∞ —Ç—ã –ø–∏—à–µ—à—å –∫–æ–¥ –≤—Ä–æ–¥–µ —ç—Ç–æ–≥–æ:

```csharp
for (int i = 0; i < 3; i++)
{
    button[i].onClick.AddListener(() => 
    {
        Debug.Log(i);  // ‚ùå –û–®–ò–ë–ö–ê!
    });
}
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç —Å—Ç—Ä–∞–Ω–Ω—ã–π: –≤—Å–µ –∫–Ω–æ–ø–∫–∏ –≤—ã–≤–µ–¥—É—Ç "3", –∞ –Ω–µ "0", "1", "2".

**–ü–æ—á–µ–º—É?** –ü–æ—Ç–æ–º—É —á—Ç–æ –ª—è–º–±–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `i`, –∞ –Ω–µ –µ—ë –∑–Ω–∞—á–µ–Ω–∏–µ. –ö –º–æ–º–µ–Ω—Ç—É –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É, —Ü–∏–∫–ª —É–∂–µ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è –∏ `i` = 3.

### –†–µ—à–µ–Ω–∏–µ 1: –°–æ—Ö—Ä–∞–Ω–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é

```csharp
for (int i = 0; i < 3; i++)
{
    int savedIndex = i;  // ‚Üê –ù–æ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
    
    button[i].onClick.AddListener(() => 
    {
        Debug.Log(savedIndex);  // –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!
    });
}
```

**–≠—Ç–æ —Ä–æ–≤–Ω–æ —Ç–æ, —á—Ç–æ —è —Å–¥–µ–ª–∞–ª –≤ SimpleDialogueSystem.cs:**

```csharp
for (int i = 0; i < choices.Count; i++)
{
    int choiceIndex = i;  // ‚Üê –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
    newButton.onClick.AddListener(delegate { OnChoiceClicked(choiceIndex); });
}
```

### –†–µ—à–µ–Ω–∏–µ 2: –í–æ–æ–±—â–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—è–º–±–¥—É

```csharp
for (int i = 0; i < 3; i++)
{
    button[i].onClick.AddListener(OnButtonClicked);
    // –ù–æ —Ç–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∫–∞–∫-—Ç–æ —É–∑–Ω–∞–µ—Ç –∫–∞–∫–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞
}
```

---

## –õ—è–º–±–¥–∞ –≤ –¥—Ä—É–≥–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö

### 1. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —á—Ç–æ-—Ç–æ –≤–µ—Ä–Ω—É—Ç—å:

```csharp
// –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±:
private int Add(int a, int b)
{
    return a + b;
}
result = Add(5, 3);

// –° –ª—è–º–±–¥–æ–π (–¥–µ–ª–µ–≥–∞—Ç Func):
Func<int, int, int> Add = (a, b) => a + b;
result = Add(5, 3);
```

### 2. –° —É—Å–ª–æ–≤–∏–µ–º:

```csharp
// –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±:
private bool IsPlayerClose()
{
    return Vector3.Distance(player, npc) < 5f;
}
if (IsPlayerClose()) { ... }

// –° –ª—è–º–±–¥–æ–π:
bool IsPlayerClose = () => Vector3.Distance(player, npc) < 5f;
if (IsPlayerClose()) { ... }
```

### 3. –í —Å–ø–∏—Å–∫–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:

```csharp
// –ù–∞—à–ª–∏ –≤—Å–µ –≤—Ä–∞–≥–æ–≤ –±–ª–∏–∂–µ 10 –º–µ—Ç—Ä–æ–≤:
List<Enemy> closeEnemies = allEnemies.FindAll(e => e.distance < 10f);

// –≠—Ç–æ —Ç–æ –∂–µ —Å–∞–º–æ–µ —á—Ç–æ:
List<Enemy> closeEnemies = new List<Enemy>();
foreach (Enemy e in allEnemies)
{
    if (e.distance < 10f)
        closeEnemies.Add(e);
}
```

---

## –í–´–í–û–î: –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—è–º–±–¥—ã?

| –°–ª—É—á–∞–π | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—è–º–±–¥—É? | –ü–æ—á–µ–º—É |
|--------|----------------------|--------|
| –ö–Ω–æ–ø–∫–∞ –≤—ã–∑—ã–≤–∞–µ—Ç 1-2 —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ | ‚úÖ –î–∞ | –ë–æ–ª–µ–µ —á–∏—Ç–∞–µ–º–æ |
| –ö–Ω–æ–ø–∫–∞ –≤—ã–∑—ã–≤–∞–µ—Ç –º–Ω–æ–≥–æ –∫–æ–¥–∞ | ‚ùå –ù–µ—Ç | –õ—É—á—à–µ –æ–±—ã—á–Ω—ã–π –º–µ—Ç–æ–¥ |
| –¶–∏–∫–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏ –ª—è–º–±–¥–∞ | ‚ö†Ô∏è –û—Å—Ç–æ—Ä–æ–∂–Ω–æ | –ù—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ |
| –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ | ‚úÖ –î–∞ | –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç |
| –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç | ‚úÖ –î–∞ | –£–¥–æ–±–Ω–æ –ø—Ä–æ–±–æ–≤–∞—Ç—å |

---

## –í SimpleDialogueSystem.cs

–Ø **—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –∏–∑–±–µ–∂–∞–ª –ª—è–º–±–¥**, —á—Ç–æ–±—ã –±—ã–ª–æ –ø–æ–Ω—è—Ç–Ω–µ–µ:

```csharp
// ‚ùå –ë—ã–ª–æ –±—ã —Å –ª—è–º–±–¥–æ–π (—Å–ª–æ–∂–Ω–µ–µ):
newButton.onClick.AddListener(() => 
{
    int selectedIndex = i;  // –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
    OnChoiceClicked(selectedIndex);
});

// ‚úÖ –°–¥–µ–ª–∞–ª –±–µ–∑ –ª—è–º–±–¥—ã (–ø–æ–Ω—è—Ç–Ω–µ–µ):
int choiceIndex = i;  // —è–≤–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º
newButton.onClick.AddListener(delegate { OnChoiceClicked(choiceIndex); });
```

–í—Ç–æ—Ä–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª–∏–Ω–Ω–µ–µ, –Ω–æ –∑–∞—Ç–æ **—è–≤–Ω–æ –≤–∏–¥–Ω–æ —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**.

---

## –ü–ê–ú–Ø–¢–ö–ê: –õ—è–º–±–¥–∞ vs –û–±—ã—á–Ω—ã–π –º–µ—Ç–æ–¥

### –õ—è–º–±–¥–∞:
```csharp
() => { –∫–æ–¥ }
```
- –ö–æ—Ä–æ—Ç–∫–æ
- –î–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –∫–æ–¥–∞ (1‚Äì3 —Å—Ç—Ä–æ–∫–∏)
- –ö–æ–¥ –≤–∏–¥–Ω–æ —Å—Ä–∞–∑—É —Ç–∞–º –≥–¥–µ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å

### –û–±—ã—á–Ω—ã–π –º–µ—Ç–æ–¥:
```csharp
private void MyMethod() { –∫–æ–¥ }
MyMethod();
```
- –î–æ–ª—å—à–µ –ø–∏—Å–∞—Ç—å
- –î–ª—è —Å–ª–æ–∂–Ω–æ–≥–æ –∫–æ–¥–∞
- –õ–µ–≥—á–µ —á–∏—Ç–∞—Ç—å –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- –õ–µ–≥—á–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å

---

**–í—ã–≤–æ–¥:** –õ—è–º–±–¥—ã ‚Äì —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π. –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã, –Ω–æ —É–¥–æ–±–Ω—ã. –í –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ –¥–∏–∞–ª–æ–≥–æ–≤ –Ω–µ –Ω—É–∂–Ω—ã, –ø–æ—ç—Ç–æ–º—É —è –∏—Ö –∏–∑–±–µ–∂–∞–ª. üéØ
